"use strict";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Require packages
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var gulp = require('gulp'),
    uglify = require('gulp-uglify'),
    rename = require("gulp-rename");

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Watch changes in files
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

gulp.task('watch', function () {
    gulp.watch(['./jquery.autocolumnlist.js'], ['js']);
});

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// js
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

gulp.task('js', function () {
    gulp.src(['./jquery.autocolumnlist.js'])
        .pipe(uglify({preserveComments: 'license'}).on('error', function () {}))
        .pipe(rename('jquery.autocolumnlist.min.js'))
        .pipe(gulp.dest('./'));
});

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// default
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

gulp.task('default', ['js']);
